#!/bin/bash
#SBATCH --partition=Intel-8358-1
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=8
#SBATCH --array=0-103%500
#SBATCH --job-name=array_job
#SBATCH --output=array_job_%A.out

# Get job specs from array
declare -a job_paths=(
"data/calculators/optimizers/xtb/raw_data_test/22"
"data/calculators/optimizers/xtb/raw_data_test/23"
"data/calculators/optimizers/xtb/raw_data_test/24"
"data/calculators/optimizers/xtb/raw_data_test/25"
"data/calculators/optimizers/xtb/raw_data_test/26"
"data/calculators/optimizers/xtb/raw_data_test/27"
"data/calculators/optimizers/xtb/raw_data_test/28"
"data/calculators/optimizers/xtb/raw_data_test/29"
"data/calculators/optimizers/xtb/raw_data_test/30"
"data/calculators/optimizers/xtb/raw_data_test/31"
"data/calculators/optimizers/xtb/raw_data_test/32"
"data/calculators/optimizers/xtb/raw_data_test/33"
"data/calculators/optimizers/xtb/raw_data_test/34"
"data/calculators/optimizers/xtb/raw_data_test/35"
"data/calculators/optimizers/xtb/raw_data_test/36"
"data/calculators/optimizers/xtb/raw_data_test/37"
"data/calculators/optimizers/xtb/raw_data_test/38"
"data/calculators/optimizers/xtb/raw_data_test/39"
"data/calculators/optimizers/xtb/raw_data_test/40"
"data/calculators/optimizers/xtb/raw_data_test/41"
"data/calculators/optimizers/xtb/raw_data_test/42"
"data/calculators/optimizers/xtb/raw_data_test/43"
"data/calculators/optimizers/xtb/raw_data_test/44"
"data/calculators/optimizers/xtb/raw_data_test/45"
"data/calculators/optimizers/xtb/raw_data_test/46"
"data/calculators/optimizers/xtb/raw_data_test/47"
"data/calculators/optimizers/xtb/raw_data_test/48"
"data/calculators/optimizers/xtb/raw_data_test/49"
"data/calculators/optimizers/xtb/raw_data_test/50"
"data/calculators/optimizers/xtb/raw_data_test/51"
"data/calculators/optimizers/xtb/raw_data_test/52"
"data/calculators/optimizers/xtb/raw_data_test/53"
"data/calculators/optimizers/xtb/raw_data_test/54"
"data/calculators/optimizers/xtb/raw_data_test/55"
"data/calculators/optimizers/xtb/raw_data_test/56"
"data/calculators/optimizers/xtb/raw_data_test/57"
"data/calculators/optimizers/xtb/raw_data_test/58"
"data/calculators/optimizers/xtb/raw_data_test/59"
"data/calculators/optimizers/xtb/raw_data_test/60"
"data/calculators/optimizers/xtb/raw_data_test/61"
"data/calculators/optimizers/xtb/raw_data_test/62"
"data/calculators/optimizers/xtb/raw_data_test/63"
"data/calculators/optimizers/xtb/raw_data_test/64"
"data/calculators/optimizers/xtb/raw_data_test/65"
"data/calculators/optimizers/xtb/raw_data_test/66"
"data/calculators/optimizers/xtb/raw_data_test/67"
"data/calculators/optimizers/xtb/raw_data_test/68"
"data/calculators/optimizers/xtb/raw_data_test/69"
"data/calculators/optimizers/xtb/raw_data_test/70"
"data/calculators/optimizers/xtb/raw_data_test/71"
"data/calculators/optimizers/xtb/raw_data_test/72"
"data/calculators/optimizers/xtb/raw_data_test/73"
"data/calculators/optimizers/xtb/raw_data_test/74"
"data/calculators/optimizers/xtb/raw_data_test/75"
"data/calculators/optimizers/xtb/raw_data_test/76"
"data/calculators/optimizers/xtb/raw_data_test/77"
"data/calculators/optimizers/xtb/raw_data_test/78"
"data/calculators/optimizers/xtb/raw_data_test/79"
"data/calculators/optimizers/xtb/raw_data_test/80"
"data/calculators/optimizers/xtb/raw_data_test/81"
"data/calculators/optimizers/xtb/raw_data_test/82"
"data/calculators/optimizers/xtb/raw_data_test/83"
"data/calculators/optimizers/xtb/raw_data_test/84"
"data/calculators/optimizers/xtb/raw_data_test/85"
"data/calculators/optimizers/xtb/raw_data_test/86"
"data/calculators/optimizers/xtb/raw_data_test/87"
"data/calculators/optimizers/xtb/raw_data_test/88"
"data/calculators/optimizers/xtb/raw_data_test/89"
"data/calculators/optimizers/xtb/raw_data_test/90"
"data/calculators/optimizers/xtb/raw_data_test/91"
"data/calculators/optimizers/xtb/raw_data_test/92"
"data/calculators/optimizers/xtb/raw_data_test/93"
"data/calculators/optimizers/xtb/raw_data_test/94"
"data/calculators/optimizers/xtb/raw_data_test/95"
"data/calculators/optimizers/xtb/raw_data_test/96"
"data/calculators/optimizers/xtb/raw_data_test/97"
"data/calculators/optimizers/xtb/raw_data_test/98"
"data/calculators/optimizers/xtb/raw_data_test/99"
"data/calculators/optimizers/xtb/raw_data_test/100"
"data/calculators/optimizers/xtb/raw_data_test/101"
"data/calculators/optimizers/xtb/raw_data_test/102"
"data/calculators/optimizers/xtb/raw_data_test/103"
"data/calculators/optimizers/xtb/raw_data_test/104"
"data/calculators/optimizers/xtb/raw_data_test/105"
"data/calculators/optimizers/xtb/raw_data_test/106"
"data/calculators/optimizers/xtb/raw_data_test/107"
"data/calculators/optimizers/xtb/raw_data_test/108"
"data/calculators/optimizers/xtb/raw_data_test/109"
"data/calculators/optimizers/xtb/raw_data_test/110"
"data/calculators/optimizers/xtb/raw_data_test/111"
"data/calculators/optimizers/xtb/raw_data_test/112"
"data/calculators/optimizers/xtb/raw_data_test/113"
"data/calculators/optimizers/xtb/raw_data_test/114"
"data/calculators/optimizers/xtb/raw_data_test/115"
"data/calculators/optimizers/xtb/raw_data_test/116"
"data/calculators/optimizers/xtb/raw_data_test/117"
"data/calculators/optimizers/xtb/raw_data_test/118"
"data/calculators/optimizers/xtb/raw_data_test/119"
"data/calculators/optimizers/xtb/raw_data_test/120"
"data/calculators/optimizers/xtb/raw_data_test/121"
"data/calculators/optimizers/xtb/raw_data_test/122"
"data/calculators/optimizers/xtb/raw_data_test/123"
"data/calculators/optimizers/xtb/raw_data_test/124"
"data/calculators/optimizers/xtb/raw_data_test/125"
)

declare -a job_args=(
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
"molecule.xyz"
)

# Change to job directory
cd ${job_paths[$SLURM_ARRAY_TASK_ID]}

# Execute command
xtb --gfn2 --opt extreme -P 8 --charge 1 ${job_args[$SLURM_ARRAY_TASK_ID]} > stdout.log 2> stderr.log